<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>XKTLoaderPlugin - Loading a Model from the File System</title>
    <link href="css/styles.css" type="text/css" rel="stylesheet"/>

    <style>
        #myCanvas {
            width: 100%;
            height: 100%;
            background: lightBlue;
        }
    </style>

</head>

<body>
<canvas id="myCanvas"></canvas>
<div id="info">
    <h1>XKT V5 - Schependomlaan Model</h1><br>
    <ul>
        <li>
            <div id="time">Loading JavaScript modules...</div>
        </li>
    </ul>
</div>
</body>
<script type="module">

    import {Viewer} from "./build/main.js";
    import {XKTLoaderPlugin} from "./build/main.js";

    const viewer = new Viewer({
        canvasId: "myCanvas",
        transparent: true
    });

    const xktLoader = new XKTLoaderPlugin(viewer);

    var t0 = performance.now();

    document.getElementById("time").innerHTML = "Loading model Schependonlaam";

    const model = xktLoader.load({
        id: "mechanical",
        src: "./models/xkt/v5_schependomlaan.xkt",
        edges: true
    });

    model.on("loaded", () => {

        var t1 = performance.now();

        document.getElementById("time").innerHTML = "Loaded Schependomlaan in " + Math.floor((t1 - t0)) / 1000 + " seconds<br>Objects: " + model.numEntities;

        viewer.cameraFlight.flyTo(viewer.scene);
    });


    window.viewer = viewer;

</script>
</html>